(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[26],{"4c3a":function(t,e,s){"use strict";s("cd2f")},c6f7:function(t,e,s){"use strict";s.r(e);var o=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"q-mx-auto login row shadow-4 bg-white rounded-borders",class:{"bg--dark":t.darkOn}},[s("div",{staticClass:"login__background col-sm-6 d-none d-block-sm"}),s("div",{staticClass:"login__form col-12 col-sm-6 q-pa-xl text-grey-9"},[s("span",{staticClass:"q-mt-md d-inline-block",class:{"text-white":t.darkOn}},[t._v("Bem Vindo de volta!")]),s("h1",{staticClass:"text-h4 text-regular q-pb-md",class:{"text-white":t.darkOn}},[t._v("\n      Entre com a sua conta\n    ")]),s("div",{staticClass:" row no-wrap"},[s("q-btn",{staticClass:"q-mr-sm",staticStyle:{width:"50%"},attrs:{icon:"fab fa-facebook",color:"primary",size:"lg",padding:"10px 30px"},on:{click:t.loginWithFacebook}}),s("q-btn",{staticClass:"q-ml-sm",staticStyle:{width:"50%"},attrs:{icon:"fab fa-google",color:"red-8",size:"lg",padding:"10px 30px"},on:{click:t.loginWithGoogle}})],1),s("div",[s("q-input",{staticClass:"q-mt-xl",attrs:{type:"email",outlined:"",filled:"","bottom-slots":"",label:"Digite seu email",color:t.darkOn?"white":"purple"},scopedSlots:t._u([{key:"before",fn:function(){return[s("q-icon",{staticClass:"q-pr-sm",attrs:{name:"email"}})]},proxy:!0}]),model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("q-input",{attrs:{outlined:"",filled:"",type:t.passwordObject.isPwd?"password":"text",label:"Digite sua senha",color:t.darkOn?"white":"purple"},scopedSlots:t._u([{key:"before",fn:function(){return[s("q-icon",{staticClass:"q-pr-sm",attrs:{name:"vpn_key"}})]},proxy:!0},{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.passwordObject.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.passwordObject.isPwd=!t.passwordObject.isPwd}}})]},proxy:!0}]),model:{value:t.passwordObject.password,callback:function(e){t.$set(t.passwordObject,"password",e)},expression:"passwordObject.password"}})],1),s("q-btn",{staticClass:"full-width  text-capitalize q-mt-md",attrs:{color:"purple",label:"Entrar",size:"lg",loading:t.isLoading},on:{click:function(e){return t.login()}}}),s("div",{staticClass:"container-socials w-100 text-center"},[s("span",{staticClass:"q-mt-lg d-inline-block w-100 text-center",class:{"text-grey":t.darkOn}},[s("router-link",{staticClass:" rec-link text-grey cursor-pointer",attrs:{to:"recover",tag:"span"}},[t._v("\n          Esqueceu a senha?\n          "),s("q-icon",{attrs:{name:"lock"}})],1)],1)]),s("div",{staticClass:"container-socials w-100 text-center"}),s("span",{staticClass:"q-mt-lg d-inline-block w-100 text-center",class:{"text-grey":t.darkOn}},[t._v("\n      Ainda não tem cadastro?\n      "),s("router-link",{staticClass:"text-purple cursor-pointer",attrs:{to:"register",tag:"span"}},[t._v("\n        Cadastre-se\n      ")])],1)],1)])},a=[],i=(s("a79d"),s("e6cf"),{data(){return{email:"",passwordObject:{password:"",isPwd:!0},darkOn:!1,isLoading:!1}},methods:{login(){this.isLoading=!0,this.$firebase.auth().signInWithEmailAndPassword(this.email,this.passwordObject.password).then((t=>{console.log(t),console.log(t.user.uid),this.verifyUserExist(t.user)})).catch((t=>{console.error(t),console.log(t.message),console.log(t.code);let e="";"auth/user-not-found"===t.code&&(e="Usuário não encontrado ou não existe",setTimeout((()=>{this.$q.notify({type:"info",position:"top",message:"Porfavor volte quando realizar o cadastro"})}),2e3)),"auth/invalid-email"===t.code&&(e="Email inserido invalido"),"auth/wrong-password"===t.code&&(e="Senha incorreta"),this.$q.notify({type:"negative",position:"top",message:e})})).finally((()=>{this.isLoading=!1}))},verifyUserExist(t){this.$firebase.firestore().collection("auth").doc(t.uid).get().then((t=>{t.data()?this.$router.push("/"):this.$q.notify({type:"warning",message:"Usuário não cadastrado, por favor, termine seu cadastro",actions:[{label:"Terminar Cadastro",color:"purple",handler:()=>{this.$router.push("/")}}]})})).catch((t=>{console.error(t),console.log(t.message),console.log(t.code),this.$q.notify({type:"negative",message:"Erro de conexão com o banco"})}))},loginWithFacebook(){let t=new this.$firebase.auth.FacebookAuthProvider;t.setCustomParameters({display:"popup"}),this.$firebase.auth().signInWithPopup(t).then((t=>{console.log(t.user),this.verifyUserExist(t.user)})).catch((t=>{console.log(t.message),console.log(t.code),console.log(t),this.$q.notify({type:"negative",message:"Houve um erro ao tentar logar"})}))},loginWithGoogle(){let t=new this.$firebase.auth.GoogleAuthProvider;t.setCustomParameters({display:"popup"}),this.$firebase.auth().signInWithPopup(t).then((t=>{this.verifyUserExist(t.user)})).catch((t=>{console.log(t.message),console.log(t.code),console.log(t),this.$q.notify({type:"negative",message:"Houve um erro ao tentar logar"})}))}},created(){let t=JSON.parse(localStorage.getItem("isDark"));this.darkOn=t||!1,this.$q.dark.set(this.darkOn)}}),n=i,r=(s("4c3a"),s("2877")),l=s("9c40"),c=s("27f9"),d=s("0016"),p=s("eebe"),u=s.n(p),g=Object(r["a"])(n,o,a,!1,null,"36843d4e",null);e["default"]=g.exports;u()(g,"components",{QBtn:l["a"],QInput:c["a"],QIcon:d["a"]})},cd2f:function(t,e,s){}}]);