(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[39],{"7e12":function(e,a,t){"use strict";t.r(a);var o=function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",[t("q-dialog",{attrs:{value:e.isOpen&&!e.conected,persistent:""}},[t("q-card",[t("q-card-section",{staticClass:"row items-center"},[t("q-avatar",{attrs:{icon:"fab fa-facebook-f",color:"primary","text-color":"white"}}),t("span",{staticClass:"q-ml-sm col-10"},[e._v("Atualmente você nao esta conectado ao facebook. Conecte-se para\n          poder utilizar como login")])],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Cancelar",color:"grey"}}),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Conectar",color:"purple"},on:{click:e.loginFace}})],1)],1)],1),t("q-dialog",{attrs:{value:e.isOpen&&e.conected,persistent:""}},[t("q-card",[t("q-card-section",{staticClass:"row items-center"},[t("q-avatar",{attrs:{icon:"fab fa-facebook-f",color:"primary","text-color":"white"}}),t("span",{staticClass:"q-ml-sm col-10"},[e._v("Você já esta conectada com seu facebook")])],1),t("q-card-actions",{attrs:{align:"right"}},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"Ok",color:"purple"}})],1)],1)],1)],1)},s=[],r={props:{isOpen:{type:Boolean,required:!0},conected:{type:Boolean,required:!0},userUID:{required:!0}},data(){return{}},methods:{loginFace(){let e=new this.$firebase.auth.FacebookAuthProvider;e.setCustomParameters({display:"popup"}),this.$firebase.auth().signInWithPopup(e).then((e=>{this.$q.notify({type:"positive",message:"Conta conectada com sucesso"}),this.$firebase.firestore().collection("acompanhante").doc(this.userUID).set({fb_conected:!0},{merge:!0}),this.$firebase.firestore().collection("auth").doc(e.user.uid).set({id_acompanhante:this.userUID,provider_sm:e.credential.signInMethod}),document.location.reload(!0)})).catch((e=>{console.log(e),this.$q.notify({type:"negative",message:"Houve um erro ao tentar logar"})}))}}},c=r,i=t("2877"),n=t("24e8"),l=t("f09f"),p=t("a370"),d=t("cb32"),u=t("4b7e"),m=t("9c40"),f=t("7f67"),h=t("eebe"),b=t.n(h),v=Object(i["a"])(c,o,s,!1,null,null,null);a["default"]=v.exports;b()(v,"components",{QDialog:n["a"],QCard:l["a"],QCardSection:p["a"],QAvatar:d["a"],QCardActions:u["a"],QBtn:m["a"]}),b()(v,"directives",{ClosePopup:f["a"]})}}]);